

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>merlin_standard_lib.proto.schema_bp &#8212; NVIDIA Merlin</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/versions.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script src="../../../_static/js/rtd-version-switcher.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_modules/merlin_standard_lib/proto/schema_bp';</script>
    <link rel="canonical" href="https://nvidia-merlin.github.io/Merlin/stable/_modules/merlin_standard_lib/proto/schema_bp.html" />
    <link rel="shortcut icon" href="../../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-NVJ1Y1YJHK"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-NVJ1Y1YJHK', {
        'anonymize_ip': false,
    });
  </script>
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,400;0,700;1,300&display=swap" rel="stylesheet">
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    <p class="title logo__title">NVIDIA Merlin</p>
  
</a></div>
        <div class="sidebar-primary-item">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../README.html">Introduction</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../guide/recommender_system_guide.html">Recommender System Guide</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../guide/recommender_models.html">Recommender Models</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../examples/index.html">Example Notebooks</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../examples/getting-started-movielens/index.html">Getting Started using the MovieLens Dataset</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/getting-started-movielens/01-Download-Convert.html">MovieLens Download and Convert</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/getting-started-movielens/02-ETL-with-NVTabular.html">Feature Engineering with NVTabular</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/getting-started-movielens/03-Training-with-HugeCTR.html">Training with HugeCTR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/getting-started-movielens/03-Training-with-TF.html">Getting Started MovieLens: Training with TensorFlow</a></li>


<li class="toctree-l3"><a class="reference internal" href="../../../examples/getting-started-movielens/03-Training-with-PyTorch.html">Training with PyTorch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/getting-started-movielens/04-Triton-Inference-with-HugeCTR.html">Serving the HugeCTR Model with Triton</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/getting-started-movielens/04-Triton-Inference-with-TF.html">Serve Recommendations from the TensorFlow Model</a></li>

</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../examples/Building-and-deploying-multi-stage-RecSys/index.html">Deploying a Multi-Stage Recommender System</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/Building-and-deploying-multi-stage-RecSys/01-Building-Recommender-Systems-with-Merlin.html">Building the Recommender System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/Building-and-deploying-multi-stage-RecSys/02-Deploying-multi-stage-RecSys-with-Merlin-Systems.html">Deploying the Recommender System with Triton</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../examples/sagemaker-tensorflow/index.html">Merlin and AWS SageMaker</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/sagemaker-tensorflow/sagemaker-merlin-tensorflow.html">Training and Serving Merlin on AWS SageMaker</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../examples/scaling-criteo/index.html">Scaling Large Datasets with Criteo</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/scaling-criteo/01-Download-Convert.html">Criteo Download and Convert</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/scaling-criteo/02-ETL-with-NVTabular.html">Feature Engineering with NVTabular</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/scaling-criteo/03-Training-with-HugeCTR.html">Training with HugeCTR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/scaling-criteo/03-Training-with-Merlin-Models-TensorFlow.html">Training with Merlin Models and TensorFlow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/scaling-criteo/04-Triton-Inference-with-HugeCTR.html">Deploy the HugeCTR Model with Triton</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/scaling-criteo/04-Triton-Inference-with-Merlin-Models-TensorFlow.html">Deploy the TensorFlow Model with Triton</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../containers.html">Merlin Containers</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../support_matrix/index.html">Merlin Support Matrix</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../support_matrix/support_matrix_merlin_hugectr.html">Merlin HugeCTR Support Matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../support_matrix/support_matrix_merlin_tensorflow.html">Merlin TensorFlow Support Matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../support_matrix/support_matrix_merlin_pytorch.html">Merlin PyTorch Support Matrix</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API documentation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api_core/merlin.dag.html">merlin.dag</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../api_core/generated/merlin.dag.BaseOperator.html">merlin.dag.BaseOperator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_core/generated/merlin.dag.Graph.html">merlin.dag.Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_core/generated/merlin.dag.Node.html">merlin.dag.Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_core/generated/merlin.dag.ColumnSelector.html">merlin.dag.ColumnSelector</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api_dataloader.html">merlin.loader</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.dataloader.tensorflow.Loader.html">merlin.dataloader.tensorflow.Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.dataloader.tensorflow.KerasSequenceValidater.html">merlin.dataloader.tensorflow.KerasSequenceValidater</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.dataloader.tf_utils.configure_tensorflow.html">merlin.dataloader.tf_utils.configure_tensorflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.dataloader.tf_utils.get_dataset_schema_from_feature_columns.html">merlin.dataloader.tf_utils.get_dataset_schema_from_feature_columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.dataloader.tf_utils.HAS_GPU.html">merlin.dataloader.tf_utils.HAS_GPU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.dataloader.torch.Loader.html">merlin.dataloader.torch.Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.dataloader.torch.DLDataLoader.html">merlin.dataloader.torch.DLDataLoader</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.dataloader.jax.Loader.html">merlin.dataloader.jax.Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.dataloader.loader_base.LoaderBase.html">merlin.dataloader.loader_base.LoaderBase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.dataloader.loader_base.ChunkQueue.html">merlin.dataloader.loader_base.ChunkQueue</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api_core/merlin.io.html">merlin.io</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../api_core/generated/merlin.io.Dataset.html">merlin.io.Dataset</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api_models.html">merlin.models</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.DCNModel.html">merlin.models.tf.DCNModel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.DeepFMModel.html">merlin.models.tf.DeepFMModel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.DLRMModel.html">merlin.models.tf.DLRMModel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.WideAndDeepModel.html">merlin.models.tf.WideAndDeepModel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.Encoder.html">merlin.models.tf.Encoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.EmbeddingEncoder.html">merlin.models.tf.EmbeddingEncoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.ItemRetrievalScorer.html">merlin.models.tf.ItemRetrievalScorer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.RetrievalModelV2.html">merlin.models.tf.RetrievalModelV2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.MatrixFactorizationModelV2.html">merlin.models.tf.MatrixFactorizationModelV2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.MatrixFactorizationModel.html">merlin.models.tf.MatrixFactorizationModel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.TwoTowerModelV2.html">merlin.models.tf.TwoTowerModelV2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.TwoTowerModel.html">merlin.models.tf.TwoTowerModel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.YoutubeDNNRetrievalModelV2.html">merlin.models.tf.YoutubeDNNRetrievalModelV2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.YoutubeDNNRetrievalModel.html">merlin.models.tf.YoutubeDNNRetrievalModel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.Embeddings.html">merlin.models.tf.Embeddings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.EmbeddingTable.html">merlin.models.tf.EmbeddingTable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.AverageEmbeddingsByWeightFeature.html">merlin.models.tf.AverageEmbeddingsByWeightFeature</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.ReplaceMaskedEmbeddings.html">merlin.models.tf.ReplaceMaskedEmbeddings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.L2Norm.html">merlin.models.tf.L2Norm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.InputBlockV2.html">merlin.models.tf.InputBlockV2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.InputBlock.html">merlin.models.tf.InputBlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.Continuous.html">merlin.models.tf.Continuous</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.ContinuousFeatures.html">merlin.models.tf.ContinuousFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.ContinuousEmbedding.html">merlin.models.tf.ContinuousEmbedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.ContinuousProjection.html">merlin.models.tf.ContinuousProjection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.SequenceEmbeddingFeatures.html">merlin.models.tf.SequenceEmbeddingFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.DLRMBlock.html">merlin.models.tf.DLRMBlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.MLPBlock.html">merlin.models.tf.MLPBlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.CrossBlock.html">merlin.models.tf.CrossBlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.TwoTowerBlock.html">merlin.models.tf.TwoTowerBlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.MatrixFactorizationBlock.html">merlin.models.tf.MatrixFactorizationBlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.DotProductInteraction.html">merlin.models.tf.DotProductInteraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.FMBlock.html">merlin.models.tf.FMBlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.FMPairwiseInteraction.html">merlin.models.tf.FMPairwiseInteraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.PredictionTasks.html">merlin.models.tf.PredictionTasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.PredictionTask.html">merlin.models.tf.PredictionTask</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.BinaryClassificationTask.html">merlin.models.tf.BinaryClassificationTask</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.MultiClassClassificationTask.html">merlin.models.tf.MultiClassClassificationTask</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.RegressionTask.html">merlin.models.tf.RegressionTask</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.ItemRetrievalTask.html">merlin.models.tf.ItemRetrievalTask</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.OutputBlock.html">merlin.models.tf.OutputBlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.ModelOutput.html">merlin.models.tf.ModelOutput</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.BinaryOutput.html">merlin.models.tf.BinaryOutput</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.CategoricalOutput.html">merlin.models.tf.CategoricalOutput</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.ContrastiveOutput.html">merlin.models.tf.ContrastiveOutput</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.RegressionOutput.html">merlin.models.tf.RegressionOutput</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.ColumnBasedSampleWeight.html">merlin.models.tf.ColumnBasedSampleWeight</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.SequentialBlock.html">merlin.models.tf.SequentialBlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.ParallelBlock.html">merlin.models.tf.ParallelBlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.ParallelPredictionBlock.html">merlin.models.tf.ParallelPredictionBlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.DenseResidualBlock.html">merlin.models.tf.DenseResidualBlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.DualEncoderBlock.html">merlin.models.tf.DualEncoderBlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.ResidualBlock.html">merlin.models.tf.ResidualBlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.TabularBlock.html">merlin.models.tf.TabularBlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.Filter.html">merlin.models.tf.Filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.Cond.html">merlin.models.tf.Cond</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.TopKEncoder.html">merlin.models.tf.TopKEncoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.MultiOptimizer.html">merlin.models.tf.MultiOptimizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.LazyAdam.html">merlin.models.tf.LazyAdam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.OptimizerBlocks.html">merlin.models.tf.OptimizerBlocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.split_embeddings_on_size.html">merlin.models.tf.split_embeddings_on_size</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.CategoryEncoding.html">merlin.models.tf.CategoryEncoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.MapValues.html">merlin.models.tf.MapValues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.PrepareListFeatures.html">merlin.models.tf.PrepareListFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.PrepareFeatures.html">merlin.models.tf.PrepareFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.ToSparse.html">merlin.models.tf.ToSparse</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.ToDense.html">merlin.models.tf.ToDense</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.ToTarget.html">merlin.models.tf.ToTarget</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.ToOneHot.html">merlin.models.tf.ToOneHot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.HashedCross.html">merlin.models.tf.HashedCross</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.HashedCrossAll.html">merlin.models.tf.HashedCrossAll</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.BroadcastToSequence.html">merlin.models.tf.BroadcastToSequence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.SequencePredictNext.html">merlin.models.tf.SequencePredictNext</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.SequencePredictLast.html">merlin.models.tf.SequencePredictLast</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.SequencePredictRandom.html">merlin.models.tf.SequencePredictRandom</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.SequenceTargetAsInput.html">merlin.models.tf.SequenceTargetAsInput</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.SequenceMaskLast.html">merlin.models.tf.SequenceMaskLast</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.SequenceMaskRandom.html">merlin.models.tf.SequenceMaskRandom</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.ExpandDims.html">merlin.models.tf.ExpandDims</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.StochasticSwapNoise.html">merlin.models.tf.StochasticSwapNoise</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.AsTabular.html">merlin.models.tf.AsTabular</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.MMOEBlock.html">merlin.models.tf.MMOEBlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.CGCBlock.html">merlin.models.tf.CGCBlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.PLEBlock.html">merlin.models.tf.PLEBlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.Loader.html">merlin.models.tf.Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.AvgPrecisionAt.html">merlin.models.tf.AvgPrecisionAt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.MRRAt.html">merlin.models.tf.MRRAt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.NDCGAt.html">merlin.models.tf.NDCGAt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.PrecisionAt.html">merlin.models.tf.PrecisionAt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.RecallAt.html">merlin.models.tf.RecallAt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.TopKMetricsAggregator.html">merlin.models.tf.TopKMetricsAggregator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.ItemSampler.html">merlin.models.tf.ItemSampler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.InBatchSampler.html">merlin.models.tf.InBatchSampler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.PopularityBasedSampler.html">merlin.models.tf.PopularityBasedSampler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.losses.CategoricalCrossEntropy.html">merlin.models.tf.losses.CategoricalCrossEntropy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.losses.SparseCategoricalCrossEntropy.html">merlin.models.tf.losses.SparseCategoricalCrossEntropy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.losses.BPRLoss.html">merlin.models.tf.losses.BPRLoss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.losses.BPRmaxLoss.html">merlin.models.tf.losses.BPRmaxLoss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.losses.HingeLoss.html">merlin.models.tf.losses.HingeLoss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.losses.LogisticLoss.html">merlin.models.tf.losses.LogisticLoss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.losses.TOP1Loss.html">merlin.models.tf.losses.TOP1Loss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.losses.TOP1maxLoss.html">merlin.models.tf.losses.TOP1maxLoss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.losses.TOP1v2Loss.html">merlin.models.tf.losses.TOP1v2Loss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.schema_utils.select_targets.html">merlin.models.utils.schema_utils.select_targets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.schema_utils.schema_to_tensorflow_metadata_json.html">merlin.models.utils.schema_utils.schema_to_tensorflow_metadata_json</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.schema_utils.tensorflow_metadata_json_to_schema.html">merlin.models.utils.schema_utils.tensorflow_metadata_json_to_schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.schema_utils.create_categorical_column.html">merlin.models.utils.schema_utils.create_categorical_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.schema_utils.create_continuous_column.html">merlin.models.utils.schema_utils.create_continuous_column</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.schema_utils.filter_dict_by_schema.html">merlin.models.utils.schema_utils.filter_dict_by_schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.schema_utils.categorical_cardinalities.html">merlin.models.utils.schema_utils.categorical_cardinalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.schema_utils.categorical_domains.html">merlin.models.utils.schema_utils.categorical_domains</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.schema_utils.get_embedding_sizes_from_schema.html">merlin.models.utils.schema_utils.get_embedding_sizes_from_schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.schema_utils.get_embedding_size_from_cardinality.html">merlin.models.utils.schema_utils.get_embedding_size_from_cardinality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.tf.TensorInitializer.html">merlin.models.tf.TensorInitializer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.misc_utils.filter_kwargs.html">merlin.models.utils.misc_utils.filter_kwargs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.misc_utils.safe_json.html">merlin.models.utils.misc_utils.safe_json</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.misc_utils.get_filenames.html">merlin.models.utils.misc_utils.get_filenames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.misc_utils.get_label_feature_name.html">merlin.models.utils.misc_utils.get_label_feature_name</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.misc_utils.get_timestamp_feature_name.html">merlin.models.utils.misc_utils.get_timestamp_feature_name</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.misc_utils.get_parquet_files_names.html">merlin.models.utils.misc_utils.get_parquet_files_names</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.misc_utils.Timing.html">merlin.models.utils.misc_utils.Timing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.misc_utils.get_object_size.html">merlin.models.utils.misc_utils.get_object_size</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.misc_utils.validate_dataset.html">merlin.models.utils.misc_utils.validate_dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.registry.camelcase_to_snakecase.html">merlin.models.utils.registry.camelcase_to_snakecase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.registry.snakecase_to_camelcase.html">merlin.models.utils.registry.snakecase_to_camelcase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.registry.default_name.html">merlin.models.utils.registry.default_name</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.registry.default_object_name.html">merlin.models.utils.registry.default_object_name</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.registry.Registry.html">merlin.models.utils.registry.Registry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.registry.RegistryMixin.html">merlin.models.utils.registry.RegistryMixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.models.utils.registry.display_list_by_prefix.html">merlin.models.utils.registry.display_list_by_prefix</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api_core/merlin.schema.html">merlin.schema</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../api_core/generated/merlin.schema.Schema.html">merlin.schema.Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_core/generated/merlin.schema.ColumnSchema.html">merlin.schema.ColumnSchema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_core/generated/merlin.schema.Tags.html">merlin.schema.Tags</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api_systems.html">merlin.systems</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.systems.dag.Ensemble.html">merlin.systems.dag.Ensemble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.systems.dag.ops.workflow.TransformWorkflow.html">merlin.systems.dag.ops.workflow.TransformWorkflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.systems.dag.ops.tensorflow.PredictTensorflow.html">merlin.systems.dag.ops.tensorflow.PredictTensorflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.systems.dag.ops.fil.PredictForest.html">merlin.systems.dag.ops.fil.PredictForest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.systems.dag.ops.implicit.PredictImplicit.html">merlin.systems.dag.ops.implicit.PredictImplicit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.systems.dag.ops.softmax_sampling.SoftmaxSampling.html">merlin.systems.dag.ops.softmax_sampling.SoftmaxSampling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.systems.dag.ops.session_filter.FilterCandidates.html">merlin.systems.dag.ops.session_filter.FilterCandidates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.systems.dag.ops.unroll_features.UnrollFeatures.html">merlin.systems.dag.ops.unroll_features.UnrollFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.systems.triton.convert_df_to_triton_input.html">merlin.systems.triton.convert_df_to_triton_input</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/merlin.systems.triton.convert_triton_output_to_df.html">merlin.systems.triton.convert_triton_output_to_df</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api_nvtabular.html">nvtabular</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.workflow.workflow.Workflow.html">nvtabular.workflow.workflow.Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.workflow.workflow.WorkflowNode.html">nvtabular.workflow.workflow.WorkflowNode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.Bucketize.html">nvtabular.ops.Bucketize</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.Categorify.html">nvtabular.ops.Categorify</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.DropLowCardinality.html">nvtabular.ops.DropLowCardinality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.HashBucket.html">nvtabular.ops.HashBucket</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.HashedCross.html">nvtabular.ops.HashedCross</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.TargetEncoding.html">nvtabular.ops.TargetEncoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.Clip.html">nvtabular.ops.Clip</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.LogOp.html">nvtabular.ops.LogOp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.Normalize.html">nvtabular.ops.Normalize</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.NormalizeMinMax.html">nvtabular.ops.NormalizeMinMax</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.Dropna.html">nvtabular.ops.Dropna</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.FillMissing.html">nvtabular.ops.FillMissing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.FillMedian.html">nvtabular.ops.FillMedian</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.DifferenceLag.html">nvtabular.ops.DifferenceLag</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.Filter.html">nvtabular.ops.Filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.Groupby.html">nvtabular.ops.Groupby</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.JoinExternal.html">nvtabular.ops.JoinExternal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.JoinGroupby.html">nvtabular.ops.JoinGroupby</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.AddMetadata.html">nvtabular.ops.AddMetadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.AddProperties.html">nvtabular.ops.AddProperties</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.AddTags.html">nvtabular.ops.AddTags</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.Rename.html">nvtabular.ops.Rename</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.ReduceDtypeSize.html">nvtabular.ops.ReduceDtypeSize</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.TagAsItemFeatures.html">nvtabular.ops.TagAsItemFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.TagAsItemID.html">nvtabular.ops.TagAsItemID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.TagAsUserFeatures.html">nvtabular.ops.TagAsUserFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.TagAsUserID.html">nvtabular.ops.TagAsUserID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.ListSlice.html">nvtabular.ops.ListSlice</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.ValueCount.html">nvtabular.ops.ValueCount</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.ColumnSimilarity.html">nvtabular.ops.ColumnSimilarity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.LambdaOp.html">nvtabular.ops.LambdaOp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.Operator.html">nvtabular.ops.Operator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../generated/nvtabular.ops.StatOperator.html">nvtabular.ops.StatOperator</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api_transformers4rec/modules.html">transformers4rec</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api_transformers4rec/transformers4rec.html">transformers4rec package</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api_transformers4rec/transformers4rec.config.html">transformers4rec.config package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api_transformers4rec/transformers4rec.torch.html">transformers4rec.torch package</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_transformers4rec/transformers4rec.torch.block.html">transformers4rec.torch.block package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_transformers4rec/transformers4rec.torch.features.html">transformers4rec.torch.features package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_transformers4rec/transformers4rec.torch.model.html">transformers4rec.torch.model package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_transformers4rec/transformers4rec.torch.tabular.html">transformers4rec.torch.tabular package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_transformers4rec/transformers4rec.torch.utils.html">transformers4rec.torch.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_transformers4rec/transformers4rec.utils.html">transformers4rec.utils package</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api_transformers4rec/merlin_standard_lib.html">merlin_standard_lib package</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api_transformers4rec/merlin_standard_lib.proto.html">merlin_standard_lib.proto package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_transformers4rec/merlin_standard_lib.schema.html">merlin_standard_lib.schema package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_transformers4rec/merlin_standard_lib.utils.html">merlin_standard_lib.utils package</a></li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
</nav></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-merlin-ecosystem-nav" aria-label="Merlin Ecosystem Nav">
  <div class="bd-toc-item navbar-nav">
    <p aria-level="2" class="caption" role="heading"><span class="caption-text">Ecosystem</span></p>
    <ul class="nav bd-sidenav">
      <li class="toctree-l1"><a class="reference external" href="/core/">Core</a></li>
      <li class="toctree-l1"><a class="reference external" href="/models/">Models</a></li>
      <li class="toctree-l1"><a class="reference external" href="/systems/">Systems</a></li>
      <li class="toctree-l1"><a class="reference external" href="/NVTabular/">NVTabular</a></li>
      <li class="toctree-l1"><a class="reference external" href="/Transformers4Rec/">Transformers4Rec</a></li>
      <li class="toctree-l1"><a class="reference external" href="/dataloader/">Dataloader</a></li>
      <li class="toctree-l1"><a class="reference external" href="/HugetCTR/">HugeCTR</a></li>
    </ul>
  </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/NVIDIA-Merlin/Merlin" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>

</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1></h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <h1>Source code for merlin_standard_lib.proto.schema_bp</h1><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Copyright (c) 2021, NVIDIA CORPORATION.</span>
<span class="c1">#</span>
<span class="c1"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c1"># you may not use this file except in compliance with the License.</span>
<span class="c1"># You may obtain a copy of the License at</span>
<span class="c1">#</span>
<span class="c1">#     http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1">#</span>
<span class="c1"># Unless required by applicable law or agreed to in writing, software</span>
<span class="c1"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c1"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c1"># See the License for the specific language governing permissions and</span>
<span class="c1"># limitations under the License.</span>
<span class="c1">#</span>

<span class="c1"># Generated by the protocol buffer compiler.  DO NOT EDIT!</span>
<span class="c1"># sources: tensorflow_metadata/proto/v0/path.proto, tensorflow_metadata/proto/v0/schema.proto</span>
<span class="c1"># plugin: python-betterproto</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">types</span> <span class="kn">import</span> <span class="n">SimpleNamespace</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Sequence</span>

<span class="kn">import</span> <span class="nn">betterproto</span>


<div class="viewcode-block" id="LifecycleStage"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.LifecycleStage">[docs]</a><span class="k">class</span> <span class="nc">LifecycleStage</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    LifecycleStage. Only UNKNOWN_STAGE, BETA, and PRODUCTION features are</span>
<span class="sd">    actually validated. PLANNED, ALPHA, DISABLED, and DEBUG are treated as</span>
<span class="sd">    DEPRECATED.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">UNKNOWN_STAGE</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">PLANNED</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">ALPHA</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">BETA</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">PRODUCTION</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">DEPRECATED</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">DEBUG_ONLY</span> <span class="o">=</span> <span class="mi">6</span>
    <span class="n">DISABLED</span> <span class="o">=</span> <span class="mi">7</span></div>


<div class="viewcode-block" id="FeatureType"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.FeatureType">[docs]</a><span class="k">class</span> <span class="nc">FeatureType</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Describes the physical representation of a feature. It may be different</span>
<span class="sd">    than the logical representation, which is represented as a Domain.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">TYPE_UNKNOWN</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">BYTES</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">INT</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">FLOAT</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">STRUCT</span> <span class="o">=</span> <span class="mi">4</span></div>


<div class="viewcode-block" id="TimeDomainIntegerTimeFormat"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.TimeDomainIntegerTimeFormat">[docs]</a><span class="k">class</span> <span class="nc">TimeDomainIntegerTimeFormat</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">FORMAT_UNKNOWN</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">UNIX_DAYS</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">UNIX_SECONDS</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">UNIX_MILLISECONDS</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">UNIX_MICROSECONDS</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">UNIX_NANOSECONDS</span> <span class="o">=</span> <span class="mi">4</span></div>


<div class="viewcode-block" id="TimeOfDayDomainIntegerTimeOfDayFormat"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.TimeOfDayDomainIntegerTimeOfDayFormat">[docs]</a><span class="k">class</span> <span class="nc">TimeOfDayDomainIntegerTimeOfDayFormat</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">FORMAT_UNKNOWN</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">PACKED_64_NANOS</span> <span class="o">=</span> <span class="mi">1</span></div>


<div class="viewcode-block" id="TensorRepresentationRowPartitionDType"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.TensorRepresentationRowPartitionDType">[docs]</a><span class="k">class</span> <span class="nc">TensorRepresentationRowPartitionDType</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">UNSPECIFIED</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">INT64</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">INT32</span> <span class="o">=</span> <span class="mi">2</span></div>


<div class="viewcode-block" id="Path"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.Path">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Path</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A path is a more general substitute for the name of a field or feature that</span>
<span class="sd">    can be used for flat examples as well as structured data. For example, if</span>
<span class="sd">    we had data in a protocol buffer: message Person {   int age = 1;</span>
<span class="sd">    optional string gender = 2;   repeated Person parent = 3; } Thus, here the</span>
<span class="sd">    path {step:[&quot;parent&quot;, &quot;age&quot;]} in statistics would refer to the age of a</span>
<span class="sd">    parent, and {step:[&quot;parent&quot;, &quot;parent&quot;, &quot;age&quot;]} would refer to the age of a</span>
<span class="sd">    grandparent. This allows us to distinguish between the statistics of</span>
<span class="sd">    parents&#39; ages and grandparents&#39; ages. In general, repeated messages are to</span>
<span class="sd">    be preferred to linked lists of arbitrary length. For SequenceExample, if</span>
<span class="sd">    we have a feature list &quot;foo&quot;, this is represented by {step:[&quot;##SEQUENCE##&quot;,</span>
<span class="sd">    &quot;foo&quot;]}.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Any string is a valid step. However, whenever possible have a step be</span>
    <span class="c1"># [A-Za-z0-9_]+.</span>
    <span class="n">step</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">_Schema</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Message to represent schema information. NextID: 14&quot;&quot;&quot;</span>

    <span class="c1"># Features described in this schema.</span>
    <span class="n">feature</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="s2">&quot;Feature&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># Sparse features described in this schema.</span>
    <span class="n">sparse_feature</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;SparseFeature&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
    <span class="c1"># Weighted features described in this schema.</span>
    <span class="n">weighted_feature</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;WeightedFeature&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
    <span class="c1"># declared as top-level features in &lt;feature&gt;. String domains referenced in</span>
    <span class="c1"># the features.</span>
    <span class="n">string_domain</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StringDomain&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="c1"># top level float domains that can be reused by features</span>
    <span class="n">float_domain</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;FloatDomain&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
    <span class="c1"># top level int domains that can be reused by features</span>
    <span class="n">int_domain</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;IntDomain&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="c1"># Default environments for each feature. An environment represents both a</span>
    <span class="c1"># type of location (e.g. a server or phone) and a time (e.g. right before</span>
    <span class="c1"># model X is run). In the standard scenario, 99% of the features should be in</span>
    <span class="c1"># the default environments TRAINING, SERVING, and the LABEL (or labels) AND</span>
    <span class="c1"># WEIGHT is only available at TRAINING (not at serving). Other possible</span>
    <span class="c1"># variations: 1. There may be TRAINING_MOBILE, SERVING_MOBILE,</span>
    <span class="c1"># TRAINING_SERVICE,    and SERVING_SERVICE. 2. If one is ensembling three</span>
    <span class="c1"># models, where the predictions of the first    three models are available</span>
    <span class="c1"># for the ensemble model, there may be    TRAINING, SERVING_INITIAL,</span>
    <span class="c1"># SERVING_ENSEMBLE. See FeatureProto::not_in_environment and</span>
    <span class="c1"># FeatureProto::in_environment.</span>
    <span class="n">default_environment</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="c1"># Additional information about the schema as a whole. Features may also be</span>
    <span class="c1"># annotated individually.</span>
    <span class="n">annotation</span><span class="p">:</span> <span class="s2">&quot;Annotation&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
    <span class="c1"># Dataset-level constraints. This is currently used for specifying</span>
    <span class="c1"># information about changes in num_examples.</span>
    <span class="n">dataset_constraints</span><span class="p">:</span> <span class="s2">&quot;DatasetConstraints&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
    <span class="c1"># TensorRepresentation groups. The keys are the names of the groups. Key &quot;&quot;</span>
    <span class="c1"># (empty string) denotes the &quot;default&quot; group, which is what should be used</span>
    <span class="c1"># when a group name is not provided. See the documentation at</span>
    <span class="c1"># TensorRepresentationGroup for more info. Under development. DO NOT USE.</span>
    <span class="n">tensor_representation_group</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;TensorRepresentationGroup&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">map_field</span><span class="p">(</span>
        <span class="mi">13</span><span class="p">,</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">TYPE_STRING</span><span class="p">,</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">TYPE_MESSAGE</span>
    <span class="p">)</span>


<div class="viewcode-block" id="ValueCountList"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.ValueCountList">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">ValueCountList</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">value_count</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;ValueCount&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="Feature"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.Feature">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Feature</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Describes schema-level information about a specific feature. NextID: 33</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># The name of the feature.</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># This field is no longer supported. Instead, use: lifecycle_stage:</span>
    <span class="c1"># DEPRECATED TODO(b/111450258): remove this.</span>
    <span class="n">deprecated</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="c1"># Constraints on the presence of this feature in the examples.</span>
    <span class="n">presence</span><span class="p">:</span> <span class="s2">&quot;FeaturePresence&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;presence_constraints&quot;</span><span class="p">)</span>
    <span class="c1"># Only used in the context of a &quot;group&quot; context, e.g., inside a sequence.</span>
    <span class="n">group_presence</span><span class="p">:</span> <span class="s2">&quot;FeaturePresenceWithinGroup&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span>
        <span class="mi">17</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;presence_constraints&quot;</span>
    <span class="p">)</span>
    <span class="c1"># The feature has a fixed shape corresponding to a multi-dimensional tensor.</span>
    <span class="n">shape</span><span class="p">:</span> <span class="s2">&quot;FixedShape&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;shape_type&quot;</span><span class="p">)</span>
    <span class="c1"># The feature doesn&#39;t have a well defined shape. All we know are limits on</span>
    <span class="c1"># the minimum and maximum number of values.</span>
    <span class="n">value_count</span><span class="p">:</span> <span class="s2">&quot;ValueCount&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;shape_type&quot;</span><span class="p">)</span>
    <span class="c1"># Captures the same information as value_count but for features with nested</span>
    <span class="c1"># values. A ValueCount is provided for each nest level.</span>
    <span class="n">value_counts</span><span class="p">:</span> <span class="s2">&quot;ValueCountList&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;shape_type&quot;</span><span class="p">)</span>
    <span class="c1"># Physical type of the feature&#39;s values. Note that you can have: type: BYTES</span>
    <span class="c1"># int_domain: {   min: 0   max: 3 } This would be a field that is</span>
    <span class="c1"># syntactically BYTES (i.e. strings), but semantically an int, i.e. it would</span>
    <span class="c1"># be &quot;0&quot;, &quot;1&quot;, &quot;2&quot;, or &quot;3&quot;.</span>
    <span class="nb">type</span><span class="p">:</span> <span class="s2">&quot;FeatureType&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">enum_field</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
    <span class="c1"># Reference to a domain defined at the schema level.</span>
    <span class="n">domain</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;domain_info&quot;</span><span class="p">)</span>
    <span class="c1"># Inline definitions of domains.</span>
    <span class="n">int_domain</span><span class="p">:</span> <span class="s2">&quot;IntDomain&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;domain_info&quot;</span><span class="p">)</span>
    <span class="n">float_domain</span><span class="p">:</span> <span class="s2">&quot;FloatDomain&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;domain_info&quot;</span><span class="p">)</span>
    <span class="n">string_domain</span><span class="p">:</span> <span class="s2">&quot;StringDomain&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;domain_info&quot;</span><span class="p">)</span>
    <span class="n">bool_domain</span><span class="p">:</span> <span class="s2">&quot;BoolDomain&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;domain_info&quot;</span><span class="p">)</span>
    <span class="n">struct_domain</span><span class="p">:</span> <span class="s2">&quot;StructDomain&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;domain_info&quot;</span><span class="p">)</span>
    <span class="c1"># Supported semantic domains.</span>
    <span class="n">natural_language_domain</span><span class="p">:</span> <span class="s2">&quot;NaturalLanguageDomain&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span>
        <span class="mi">24</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;domain_info&quot;</span>
    <span class="p">)</span>
    <span class="n">image_domain</span><span class="p">:</span> <span class="s2">&quot;ImageDomain&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;domain_info&quot;</span><span class="p">)</span>
    <span class="n">mid_domain</span><span class="p">:</span> <span class="s2">&quot;MIDDomain&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">26</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;domain_info&quot;</span><span class="p">)</span>
    <span class="n">url_domain</span><span class="p">:</span> <span class="s2">&quot;URLDomain&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;domain_info&quot;</span><span class="p">)</span>
    <span class="n">time_domain</span><span class="p">:</span> <span class="s2">&quot;TimeDomain&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">28</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;domain_info&quot;</span><span class="p">)</span>
    <span class="n">time_of_day_domain</span><span class="p">:</span> <span class="s2">&quot;TimeOfDayDomain&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;domain_info&quot;</span><span class="p">)</span>
    <span class="c1"># Constraints on the distribution of the feature values. Only supported for</span>
    <span class="c1"># StringDomains.</span>
    <span class="n">distribution_constraints</span><span class="p">:</span> <span class="s2">&quot;DistributionConstraints&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
    <span class="c1"># Additional information about the feature for documentation purpose.</span>
    <span class="n">annotation</span><span class="p">:</span> <span class="s2">&quot;Annotation&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
    <span class="c1"># Tests comparing the distribution to the associated serving data.</span>
    <span class="n">skew_comparator</span><span class="p">:</span> <span class="s2">&quot;FeatureComparator&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>
    <span class="c1"># Tests comparing the distribution between two consecutive spans (e.g. days).</span>
    <span class="n">drift_comparator</span><span class="p">:</span> <span class="s2">&quot;FeatureComparator&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span>
    <span class="c1"># List of environments this feature is present in. Should be disjoint from</span>
    <span class="c1"># not_in_environment. This feature is in environment &quot;foo&quot; if: (&quot;foo&quot; is in</span>
    <span class="c1"># in_environment or default_environment) AND &quot;foo&quot; is not in</span>
    <span class="c1"># not_in_environment. See Schema::default_environment.</span>
    <span class="n">in_environment</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
    <span class="c1"># List of environments this feature is not present in. Should be disjoint</span>
    <span class="c1"># from of in_environment. See Schema::default_environment and in_environment.</span>
    <span class="n">not_in_environment</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">19</span><span class="p">)</span>
    <span class="c1"># The lifecycle stage of a feature. It can also apply to its descendants.</span>
    <span class="c1"># i.e., if a struct is DEPRECATED, its children are implicitly deprecated.</span>
    <span class="n">lifecycle_stage</span><span class="p">:</span> <span class="s2">&quot;LifecycleStage&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">enum_field</span><span class="p">(</span><span class="mi">22</span><span class="p">)</span>
    <span class="c1"># Constraints on the number of unique values for a given feature. This is</span>
    <span class="c1"># supported for string and categorical features only.</span>
    <span class="n">unique_constraints</span><span class="p">:</span> <span class="s2">&quot;UniqueConstraints&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">31</span><span class="p">)</span></div>


<div class="viewcode-block" id="Annotation"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.Annotation">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Annotation</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Additional information about the schema or about a feature.&quot;&quot;&quot;</span>

    <span class="c1"># Tags can be used to mark features. For example, tag on user_age feature can</span>
    <span class="c1"># be `user_feature`, tag on user_country feature can be `location_feature`,</span>
    <span class="c1"># `user_feature`.</span>
    <span class="n">tag</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># Free-text comments. This can be used as a description of the feature,</span>
    <span class="c1"># developer notes etc.</span>
    <span class="n">comment</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="c1"># Application-specific metadata may be attached here.</span>
    <span class="n">extra_metadata</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span><span class="p">:</span>
            <span class="n">metadata</span> <span class="o">=</span> <span class="n">SimpleNamespace</span><span class="p">(</span><span class="o">**</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">comment</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
            <span class="k">return</span> <span class="n">metadata</span>

        <span class="k">return</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="NumericValueComparator"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.NumericValueComparator">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">NumericValueComparator</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks that the ratio of the current value to the previous value is not</span>
<span class="sd">    below the min_fraction_threshold or above the max_fraction_threshold. That</span>
<span class="sd">    is, previous value * min_fraction_threshold &lt;= current value &lt;= previous</span>
<span class="sd">    value * max_fraction_threshold. To specify that the value cannot change,</span>
<span class="sd">    set both min_fraction_threshold and max_fraction_threshold to 1.0.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">min_fraction_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">double_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">max_fraction_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">double_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="DatasetConstraints"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.DatasetConstraints">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">DatasetConstraints</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constraints on the entire dataset.&quot;&quot;&quot;</span>

    <span class="c1"># Tests differences in number of examples between the current data and the</span>
    <span class="c1"># previous span.</span>
    <span class="n">num_examples_drift_comparator</span><span class="p">:</span> <span class="s2">&quot;NumericValueComparator&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># Tests comparisons in number of examples between the current data and the</span>
    <span class="c1"># previous version of that data.</span>
    <span class="n">num_examples_version_comparator</span><span class="p">:</span> <span class="s2">&quot;NumericValueComparator&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="c1"># Minimum number of examples in the dataset.</span>
    <span class="n">min_examples_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="c1"># Maximum number of examples in the dataset.</span>
    <span class="n">max_examples_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span></div>


<div class="viewcode-block" id="FixedShape"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.FixedShape">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">FixedShape</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Specifies a fixed shape for the feature&#39;s values. The immediate implication</span>
<span class="sd">    is that each feature has a fixed number of values. Moreover, these values</span>
<span class="sd">    can be parsed in a multi-dimensional tensor using the specified axis sizes.</span>
<span class="sd">    The FixedShape defines a lexicographical ordering of the data. For</span>
<span class="sd">    instance, if there is a FixedShape {   dim {size:3} dim {size:2} } then</span>
<span class="sd">    tensor[0][0]=field[0] then tensor[0][1]=field[1] then tensor[1][0]=field[2]</span>
<span class="sd">    then tensor[1][1]=field[3] then tensor[2][0]=field[4] then</span>
<span class="sd">    tensor[2][1]=field[5] The FixedShape message is identical with the</span>
<span class="sd">    TensorFlow TensorShape proto message.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># The dimensions that define the shape. The total number of values in each</span>
    <span class="c1"># example is the product of sizes of each dimension.</span>
    <span class="n">dim</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;FixedShapeDim&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="FixedShapeDim"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.FixedShapeDim">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">FixedShapeDim</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An axis in a multi-dimensional feature representation.&quot;&quot;&quot;</span>

    <span class="n">size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># Optional name of the tensor dimension.</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="ValueCount"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.ValueCount">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">ValueCount</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Limits on maximum and minimum number of values in a single example (when</span>
<span class="sd">    the feature is present). Use this when the minimum value count can be</span>
<span class="sd">    different than the maximum value count. Otherwise prefer FixedShape.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">min</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="nb">max</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="WeightedFeature"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.WeightedFeature">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">WeightedFeature</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a weighted feature that is encoded as a combination of raw base</span>
<span class="sd">    features. The `weight_feature` should be a float feature with identical</span>
<span class="sd">    shape as the `feature`. This is useful for representing weights associated</span>
<span class="sd">    with categorical tokens (e.g. a TFIDF weight associated with each token).</span>
<span class="sd">    TODO(b/142122960): Handle WeightedCategorical end to end in TFX</span>
<span class="sd">    (validation, TFX Unit Testing, etc)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Name for the weighted feature. This should not clash with other features in</span>
    <span class="c1"># the same schema.</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># Path of a base feature to be weighted. Required.</span>
    <span class="n">feature</span><span class="p">:</span> <span class="s2">&quot;Path&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="c1"># Path of weight feature to associate with the base feature. Must be same</span>
    <span class="c1"># shape as feature. Required.</span>
    <span class="n">weight_feature</span><span class="p">:</span> <span class="s2">&quot;Path&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="c1"># The lifecycle_stage determines where a feature is expected to be used, and</span>
    <span class="c1"># therefore how important issues with it are.</span>
    <span class="n">lifecycle_stage</span><span class="p">:</span> <span class="s2">&quot;LifecycleStage&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">enum_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span></div>


<div class="viewcode-block" id="SparseFeature"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.SparseFeature">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">SparseFeature</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A sparse feature represents a sparse tensor that is encoded with a</span>
<span class="sd">    combination of raw features, namely index features and a value feature.</span>
<span class="sd">    Each index feature defines a list of indices in a different dimension.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Name for the sparse feature. This should not clash with other features in</span>
    <span class="c1"># the same schema.</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># This field is no longer supported. Instead, use: lifecycle_stage:</span>
    <span class="c1"># DEPRECATED TODO(b/111450258): remove this.</span>
    <span class="n">deprecated</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="c1"># The lifecycle_stage determines where a feature is expected to be used, and</span>
    <span class="c1"># therefore how important issues with it are.</span>
    <span class="n">lifecycle_stage</span><span class="p">:</span> <span class="s2">&quot;LifecycleStage&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">enum_field</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
    <span class="c1"># Constraints on the presence of this feature in examples. Deprecated, this</span>
    <span class="c1"># is inferred by the referred features.</span>
    <span class="n">presence</span><span class="p">:</span> <span class="s2">&quot;FeaturePresence&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="c1"># Shape of the sparse tensor that this SparseFeature represents. Currently</span>
    <span class="c1"># not supported. TODO(b/109669962): Consider deriving this from the referred</span>
    <span class="c1"># features.</span>
    <span class="n">dense_shape</span><span class="p">:</span> <span class="s2">&quot;FixedShape&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="c1"># Features that represent indexes. Should be integers &gt;= 0.</span>
    <span class="n">index_feature</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;SparseFeatureIndexFeature&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
    <span class="c1"># If true then the index values are already sorted lexicographically.</span>
    <span class="n">is_sorted</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
    <span class="n">value_feature</span><span class="p">:</span> <span class="s2">&quot;SparseFeatureValueFeature&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
    <span class="c1"># Type of value feature. Deprecated, this is inferred by the referred</span>
    <span class="c1"># features.</span>
    <span class="nb">type</span><span class="p">:</span> <span class="s2">&quot;FeatureType&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">enum_field</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span></div>


<div class="viewcode-block" id="SparseFeatureIndexFeature"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.SparseFeatureIndexFeature">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">SparseFeatureIndexFeature</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="c1"># Name of the index-feature. This should be a reference to an existing</span>
    <span class="c1"># feature in the schema.</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="SparseFeatureValueFeature"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.SparseFeatureValueFeature">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">SparseFeatureValueFeature</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="c1"># Name of the value-feature. This should be a reference to an existing</span>
    <span class="c1"># feature in the schema.</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="DistributionConstraints"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.DistributionConstraints">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">DistributionConstraints</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Models constraints on the distribution of a feature&#39;s values.</span>
<span class="sd">    TODO(martinz): replace min_domain_mass with max_off_domain (but slowly).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># The minimum fraction (in [0,1]) of values across all examples that should</span>
    <span class="c1"># come from the feature&#39;s domain, e.g.:   1.0  =&gt; All values must come from</span>
    <span class="c1"># the domain.    .9  =&gt; At least 90% of the values must come from the domain.</span>
    <span class="n">min_domain_mass</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">double_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="FeatureCoverageConstraints"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.FeatureCoverageConstraints">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">FeatureCoverageConstraints</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Encodes vocabulary coverage constraints.&quot;&quot;&quot;</span>

    <span class="c1"># Fraction of feature values that map to a vocab entry (i.e. are not oov).</span>
    <span class="n">min_coverage</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">float_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># Average length of tokens. Used for cases such as wordpiece that fallback to</span>
    <span class="c1"># character-level tokenization.</span>
    <span class="n">min_avg_token_length</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">float_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="c1"># String tokens to exclude when calculating min_coverage and</span>
    <span class="c1"># min_avg_token_length. Useful for tokens such as [PAD].</span>
    <span class="n">excluded_string_tokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="c1"># Integer tokens to exclude when calculating min_coverage and</span>
    <span class="c1"># min_avg_token_length.</span>
    <span class="n">excluded_int_tokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="c1"># String tokens to treat as oov tokens (e.g. [UNK]). These tokens are also</span>
    <span class="c1"># excluded when calculating avg token length.</span>
    <span class="n">oov_string_tokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span></div>


<div class="viewcode-block" id="SequenceValueConstraints"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.SequenceValueConstraints">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">SequenceValueConstraints</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Encodes constraints on specific values in sequences.&quot;&quot;&quot;</span>

    <span class="n">int_value</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
    <span class="n">string_value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
    <span class="c1"># Min / max number of times the value can occur in a sequence.</span>
    <span class="n">min_per_sequence</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">max_per_sequence</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="c1"># Min / max fraction of sequences that must contain the value.</span>
    <span class="n">min_fraction_of_sequences</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">float_field</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">max_fraction_of_sequences</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">float_field</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span></div>


<div class="viewcode-block" id="SequenceLengthConstraints"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.SequenceLengthConstraints">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">SequenceLengthConstraints</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Encodes constraints on sequence lengths.&quot;&quot;&quot;</span>

    <span class="c1"># Token values (int and string) that are excluded when calculating sequence</span>
    <span class="c1"># length.</span>
    <span class="n">excluded_int_value</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">excluded_string_value</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="c1"># Min / max sequence length.</span>
    <span class="n">min_sequence_length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">max_sequence_length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span></div>


<div class="viewcode-block" id="IntDomain"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.IntDomain">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">IntDomain</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Encodes information for domains of integer values. Note that FeatureType</span>
<span class="sd">    could be either INT or BYTES.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Id of the domain. Required if the domain is defined at the schema level. If</span>
    <span class="c1"># so, then the name must be unique within the schema.</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># Min and max values for the domain.</span>
    <span class="nb">min</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="nb">max</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="c1"># If true then the domain encodes categorical values (i.e., ids) rather than</span>
    <span class="c1"># ordinal values.</span>
    <span class="n">is_categorical</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span></div>


<div class="viewcode-block" id="FloatDomain"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.FloatDomain">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">FloatDomain</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Encodes information for domains of float values. Note that FeatureType</span>
<span class="sd">    could be either INT or BYTES.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Id of the domain. Required if the domain is defined at the schema level. If</span>
    <span class="c1"># so, then the name must be unique within the schema.</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># Min and max values of the domain.</span>
    <span class="nb">min</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">float_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="nb">max</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">float_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="c1"># If true, feature should not contain NaNs.</span>
    <span class="n">disallow_nan</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="c1"># If true, feature should not contain Inf or -Inf.</span>
    <span class="n">disallow_inf</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
    <span class="c1"># If True, this indicates that the feature is semantically an embedding. This</span>
    <span class="c1"># can be useful for distinguishing fixed dimensional numeric features that</span>
    <span class="c1"># should be fed to a model unmodified.</span>
    <span class="n">is_embedding</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span></div>


<div class="viewcode-block" id="StructDomain"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.StructDomain">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">StructDomain</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Domain for a recursive struct. NOTE: If a feature with a StructDomain is</span>
<span class="sd">    deprecated, then all the child features (features and sparse_features of</span>
<span class="sd">    the StructDomain) are also considered to be deprecated.  Similarly child</span>
<span class="sd">    features can only be in environments of the parent feature.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">feature</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Feature&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">sparse_feature</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;SparseFeature&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="StringDomain"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.StringDomain">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">StringDomain</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Encodes information for domains of string values.&quot;&quot;&quot;</span>

    <span class="c1"># Id of the domain. Required if the domain is defined at the schema level. If</span>
    <span class="c1"># so, then the name must be unique within the schema.</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># The values appearing in the domain.</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="BoolDomain"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.BoolDomain">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">BoolDomain</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Encodes information about the domain of a boolean attribute that encodes</span>
<span class="sd">    its TRUE/FALSE values as strings, or 0=false, 1=true. Note that FeatureType</span>
<span class="sd">    could be either INT or BYTES.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Id of the domain. Required if the domain is defined at the schema level. If</span>
    <span class="c1"># so, then the name must be unique within the schema.</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># Strings values for TRUE/FALSE.</span>
    <span class="n">true_value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">false_value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span></div>


<div class="viewcode-block" id="NaturalLanguageDomain"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.NaturalLanguageDomain">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">NaturalLanguageDomain</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Natural language text.&quot;&quot;&quot;</span>

    <span class="c1"># Name of the vocabulary associated with the NaturalLanguageDomain. When</span>
    <span class="c1"># computing and validating stats using TFDV, tfdv.StatsOptions.vocab_paths</span>
    <span class="c1"># should map this name to a vocabulary file.</span>
    <span class="n">vocabulary</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">coverage</span><span class="p">:</span> <span class="s2">&quot;FeatureCoverageConstraints&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">token_constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;SequenceValueConstraints&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">sequence_length_constraints</span><span class="p">:</span> <span class="s2">&quot;SequenceLengthConstraints&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="c1"># Specifies the location constraints as a function of the tokens specified in</span>
    <span class="c1"># token_constraints. String tokens will be specified by S_TOKEN_, (e.g.</span>
    <span class="c1"># S_(PAD)_) and integer tokens will be specified as I_#_ (e.g. I_123_). A_T_</span>
    <span class="c1"># will match any token that has not been specified in token_constraints.</span>
    <span class="c1"># Parenthesis, +, and * are supported. _ will be escapable with a \ for</span>
    <span class="c1"># tokens containing it (e.g. FOO\_BAR). For example, a two-sequence BERT</span>
    <span class="c1"># model may look as follows: S_(CLS)_ A_T_+ S_(SEP)_ A_T_+ S_(SEP)_ S_(PAD)_*</span>
    <span class="c1"># Note: Support for this field is not yet implemented. Please do not use.</span>
    <span class="c1"># TODO(b/188095987): Remove warning once field is implemented.</span>
    <span class="n">location_constraint_regex</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span></div>


<div class="viewcode-block" id="ImageDomain"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.ImageDomain">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">ImageDomain</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Image data.&quot;&quot;&quot;</span>

    <span class="c1"># If set, at least this fraction of values should be TensorFlow supported</span>
    <span class="c1"># images.</span>
    <span class="n">minimum_supported_image_fraction</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">float_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># If set, image should have less than this value of undecoded byte size.</span>
    <span class="n">max_image_byte_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="MIDDomain"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.MIDDomain">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">MIDDomain</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Knowledge graph ID, see: https://www.wikidata.org/wiki/Property:P646&quot;&quot;&quot;</span>

    <span class="k">pass</span></div>


<div class="viewcode-block" id="URLDomain"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.URLDomain">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">URLDomain</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A URL, see: https://en.wikipedia.org/wiki/URL&quot;&quot;&quot;</span>

    <span class="k">pass</span></div>


<div class="viewcode-block" id="TimeDomain"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.TimeDomain">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">TimeDomain</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Time or date representation.&quot;&quot;&quot;</span>

    <span class="c1"># Expected format that contains a combination of regular characters and</span>
    <span class="c1"># special format specifiers. Format specifiers are a subset of the strptime</span>
    <span class="c1"># standard.</span>
    <span class="n">string_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;format&quot;</span><span class="p">)</span>
    <span class="c1"># Expected format of integer times.</span>
    <span class="n">integer_format</span><span class="p">:</span> <span class="s2">&quot;TimeDomainIntegerTimeFormat&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">enum_field</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;format&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="TimeOfDayDomain"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.TimeOfDayDomain">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">TimeOfDayDomain</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Time of day, without a particular date.&quot;&quot;&quot;</span>

    <span class="c1"># Expected format that contains a combination of regular characters and</span>
    <span class="c1"># special format specifiers. Format specifiers are a subset of the strptime</span>
    <span class="c1"># standard.</span>
    <span class="n">string_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;format&quot;</span><span class="p">)</span>
    <span class="c1"># Expected format of integer times.</span>
    <span class="n">integer_format</span><span class="p">:</span> <span class="s2">&quot;TimeOfDayDomainIntegerTimeOfDayFormat&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">enum_field</span><span class="p">(</span>
        <span class="mi">2</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;format&quot;</span>
    <span class="p">)</span></div>


<div class="viewcode-block" id="FeaturePresence"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.FeaturePresence">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">FeaturePresence</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Describes constraints on the presence of the feature in the data.&quot;&quot;&quot;</span>

    <span class="c1"># Minimum fraction of examples that have this feature.</span>
    <span class="n">min_fraction</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">double_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># Minimum number of examples that have this feature.</span>
    <span class="n">min_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="FeaturePresenceWithinGroup"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.FeaturePresenceWithinGroup">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">FeaturePresenceWithinGroup</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Records constraints on the presence of a feature inside a &quot;group&quot; context</span>
<span class="sd">    (e.g., .presence inside a group of features that define a sequence).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">required</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="InfinityNorm"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.InfinityNorm">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">InfinityNorm</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks that the L-infinity norm is below a certain threshold between the</span>
<span class="sd">    two discrete distributions. Since this is applied to a</span>
<span class="sd">    FeatureNameStatistics, it only considers the top K.</span>

<span class="sd">    .. math::</span>

<span class="sd">       l_{\infty}(p,q) = max_{i} | p_{i} - q_{i} |</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># The InfinityNorm is in the interval [0.0, 1.0] so sensible bounds should be</span>
    <span class="c1"># in the interval [0.0, 1.0).</span>
    <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">double_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="JensenShannonDivergence"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.JensenShannonDivergence">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">JensenShannonDivergence</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks that the approximate Jensen-Shannon Divergence is below a certain</span>
<span class="sd">    threshold between the two distributions.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># The JensenShannonDivergence will be in the interval [0.0, 1.0] so sensible</span>
    <span class="c1"># bounds should be in the interval [0.0, 1.0).</span>
    <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">double_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="FeatureComparator"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.FeatureComparator">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">FeatureComparator</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">infinity_norm</span><span class="p">:</span> <span class="s2">&quot;InfinityNorm&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">jensen_shannon_divergence</span><span class="p">:</span> <span class="s2">&quot;JensenShannonDivergence&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="UniqueConstraints"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.UniqueConstraints">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">UniqueConstraints</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks that the number of unique values is greater than or equal to the</span>
<span class="sd">    min, and less than or equal to the max.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">min</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="nb">max</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="TensorRepresentation"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.TensorRepresentation">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">TensorRepresentation</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A TensorRepresentation captures the intent for converting columns in a</span>
<span class="sd">    dataset to TensorFlow Tensors (or more generally, tf.CompositeTensors).</span>
<span class="sd">    Note that one tf.CompositeTensor may consist of data from multiple columns,</span>
<span class="sd">    for example, a N-dimensional tf.SparseTensor may need N + 1 columns to</span>
<span class="sd">    provide the sparse indices and values. Note that the &quot;column name&quot; that a</span>
<span class="sd">    TensorRepresentation needs is a string, not a Path -- it means that the</span>
<span class="sd">    column name identifies a top-level Feature in the schema (i.e. you cannot</span>
<span class="sd">    specify a Feature nested in a STRUCT Feature).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">dense_tensor</span><span class="p">:</span> <span class="s2">&quot;TensorRepresentationDenseTensor&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;kind&quot;</span><span class="p">)</span>
    <span class="n">varlen_sparse_tensor</span><span class="p">:</span> <span class="s2">&quot;TensorRepresentationVarLenSparseTensor&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span>
        <span class="mi">2</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;kind&quot;</span>
    <span class="p">)</span>
    <span class="n">sparse_tensor</span><span class="p">:</span> <span class="s2">&quot;TensorRepresentationSparseTensor&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;kind&quot;</span><span class="p">)</span>
    <span class="n">ragged_tensor</span><span class="p">:</span> <span class="s2">&quot;TensorRepresentationRaggedTensor&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;kind&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="TensorRepresentationDefaultValue"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.TensorRepresentationDefaultValue">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">TensorRepresentationDefaultValue</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">float_value</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">double_field</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;kind&quot;</span><span class="p">)</span>
    <span class="c1"># Note that the data column might be of a shorter integral type. It&#39;s the</span>
    <span class="c1"># user&#39;s responsitiblity to make sure the default value fits that type.</span>
    <span class="n">int_value</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;kind&quot;</span><span class="p">)</span>
    <span class="n">bytes_value</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bytes_field</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;kind&quot;</span><span class="p">)</span>
    <span class="c1"># uint_value should only be used if the default value can&#39;t fit in a int64</span>
    <span class="c1"># (`int_value`).</span>
    <span class="n">uint_value</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">uint64_field</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;kind&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="TensorRepresentationDenseTensor"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.TensorRepresentationDenseTensor">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">TensorRepresentationDenseTensor</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A tf.Tensor&quot;&quot;&quot;</span>

    <span class="c1"># Identifies the column in the dataset that provides the values of this</span>
    <span class="c1"># Tensor.</span>
    <span class="n">column_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># The shape of each row of the data (i.e. does not include the batch</span>
    <span class="c1"># dimension)</span>
    <span class="n">shape</span><span class="p">:</span> <span class="s2">&quot;FixedShape&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="c1"># If this column is missing values in a row, the default_value will be used</span>
    <span class="c1"># to fill that row.</span>
    <span class="n">default_value</span><span class="p">:</span> <span class="s2">&quot;TensorRepresentationDefaultValue&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span></div>


<div class="viewcode-block" id="TensorRepresentationVarLenSparseTensor"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.TensorRepresentationVarLenSparseTensor">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">TensorRepresentationVarLenSparseTensor</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A ragged tf.SparseTensor that models nested lists.&quot;&quot;&quot;</span>

    <span class="c1"># Identifies the column in the dataset that should be converted to the</span>
    <span class="c1"># VarLenSparseTensor.</span>
    <span class="n">column_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="TensorRepresentationSparseTensor"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.TensorRepresentationSparseTensor">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">TensorRepresentationSparseTensor</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A tf.SparseTensor whose indices and values come from separate data columns.</span>
<span class="sd">    This will replace Schema.sparse_feature eventually. The index columns must</span>
<span class="sd">    be of INT type, and all the columns must co-occur and have the same valency</span>
<span class="sd">    at the same row.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># The dense shape of the resulting SparseTensor (does not include the batch</span>
    <span class="c1"># dimension).</span>
    <span class="n">dense_shape</span><span class="p">:</span> <span class="s2">&quot;FixedShape&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># The columns constitute the coordinates of the values. indices_column[i][j]</span>
    <span class="c1"># contains the coordinate of the i-th dimension of the j-th value.</span>
    <span class="n">index_column_names</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="c1"># The column that contains the values.</span>
    <span class="n">value_column_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span></div>


<div class="viewcode-block" id="TensorRepresentationRaggedTensor"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.TensorRepresentationRaggedTensor">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">TensorRepresentationRaggedTensor</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A tf.RaggedTensor that models nested lists. Currently there is no way for</span>
<span class="sd">    the user to specify the shape of the leaf value (the innermost value tensor</span>
<span class="sd">    of the RaggedTensor). The leaf value will always be a 1-D tensor.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Identifies the leaf feature that provides values of the RaggedTensor.</span>
    <span class="c1"># struct type sub fields. The first step of the path refers to a top-level</span>
    <span class="c1"># feature in the data. The remaining steps refer to STRUCT features under the</span>
    <span class="c1"># top-level feature, recursively. If the feature has N outer ragged lists,</span>
    <span class="c1"># they will become the first N dimensions of the resulting RaggedTensor and</span>
    <span class="c1"># the contents will become the flat_values.</span>
    <span class="n">feature_path</span><span class="p">:</span> <span class="s2">&quot;Path&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># The result RaggedTensor would be of shape: [B, D_0, D_1, ..., D_N, P_0,</span>
    <span class="c1"># P_1, ..., P_M, U_0, U_1, ..., U_P] Where the dimensions belong to different</span>
    <span class="c1"># categories: * B: Batch size dimension * D_n: Dimensions specified by the</span>
    <span class="c1"># nested structure specified by the value path until the leaf node. n&gt;=1. *</span>
    <span class="c1"># P_m: Dimensions specified by the partitions that do not define any fixed</span>
    <span class="c1"># diomension size. m&gt;=0. * U_0: Dimensions specified by the latest partitions</span>
    <span class="c1"># of type uniform_row_length that can define the fixed inner shape of the</span>
    <span class="c1"># tensor. If iterationg the partitions from the end to the beginning, these</span>
    <span class="c1"># dimensions are defined by all the continuous uniform_row_length partitions</span>
    <span class="c1"># present. p&gt;=0.</span>
    <span class="n">partition</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;TensorRepresentationRaggedTensorPartition&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="c1"># The data type of the ragged tensor&#39;s row partitions. This will default to</span>
    <span class="c1"># INT64 if it is not specified.</span>
    <span class="n">row_partition_dtype</span><span class="p">:</span> <span class="s2">&quot;TensorRepresentationRowPartitionDType&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">enum_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="TensorRepresentationRaggedTensorPartition"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.TensorRepresentationRaggedTensorPartition">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">TensorRepresentationRaggedTensorPartition</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Further partition of the feature values at the leaf level.&quot;&quot;&quot;</span>

    <span class="c1"># If the final element(s) of partition are uniform_row_lengths [U0, U1, ...]</span>
    <span class="c1"># , then the result RaggedTensor will have  their flat values (a dense</span>
    <span class="c1"># tensor) being of shape [U0, U1, ...]. Otherwise, a uniform_row_length</span>
    <span class="c1"># simply means a ragged dimension with row_lengths</span>
    <span class="c1"># [uniform_row_length]*nrows.</span>
    <span class="n">uniform_row_length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;kind&quot;</span><span class="p">)</span>
    <span class="c1"># Identifies a leaf feature who share the same parent of value_feature_path</span>
    <span class="c1"># that contains the partition row lengths.</span>
    <span class="n">row_length</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;kind&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="TensorRepresentationGroup"><a class="viewcode-back" href="../../../api_transformers4rec/merlin_standard_lib.proto.html#merlin_standard_lib.proto.schema_bp.TensorRepresentationGroup">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">TensorRepresentationGroup</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A TensorRepresentationGroup is a collection of TensorRepresentations with</span>
<span class="sd">    names. These names may serve as identifiers when converting the dataset to</span>
<span class="sd">    a collection of Tensors or tf.CompositeTensors. For example, given the</span>
<span class="sd">    following group: {   key: &quot;dense_tensor&quot;   tensor_representation {</span>
<span class="sd">    dense_tensor {       column_name: &quot;univalent_feature&quot;       shape {</span>
<span class="sd">    dim {           size: 1         }       }       default_value {</span>
<span class="sd">    float_value: 0       }     }   } } {   key: &quot;varlen_sparse_tensor&quot;</span>
<span class="sd">    tensor_representation {     varlen_sparse_tensor {       column_name:</span>
<span class="sd">    &quot;multivalent_feature&quot;     }   } } Then the schema is expected to have</span>
<span class="sd">    feature &quot;univalent_feature&quot; and &quot;multivalent_feature&quot;, and when a batch of</span>
<span class="sd">    data is converted to Tensors using this TensorRepresentationGroup, the</span>
<span class="sd">    result may be the following dict: {   &quot;dense_tensor&quot;: tf.Tensor(...),</span>
<span class="sd">    &quot;varlen_sparse_tensor&quot;: tf.SparseTensor(...), }</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">tensor_representation</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;TensorRepresentation&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">map_field</span><span class="p">(</span>
        <span class="mi">1</span><span class="p">,</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">TYPE_STRING</span><span class="p">,</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">TYPE_MESSAGE</span>
    <span class="p">)</span></div>
</pre></div>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
  <p class="copyright">
    
       Copyright 2023, NVIDIA.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>