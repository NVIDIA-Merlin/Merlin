# About the Merlin Directed Acyclic Graph

Merlin uses a directed acyclic graph (DAG) to represent operations on data such as filtering or bucketing and to represent operations in a recommender system such as creating an ensemble or filtering candidate items during inference.

Understanding the Merlin DAG is helpful if you want to develop your own operator (Op) or building a recommender system with Merlin.

## DAG Terminology

node
: A node in the DAG is a group of columns and at least one _operator_.
  The columns are specified with a _column selector_.

column selector
: A column selector specifies the columns to select from a dataset using column names or _tags_.

operator
: An operator performs a transformation on data and return a new _node_.
  The data is identified by the _column selector_.
  Some simple operators like `+` and `-` add or remove columns.
  More complex operations are applied by shifting the operators onto the column selector with the `>>` notation.

schema
: A Merlin schema is metadata that describes the columns in a dataset.
  Each column has its own schema that identifies the column name and can specify _tags_ and properties.

tag
: A Merlin tag categorizes information about a column.
  Adding a tag to a column enables you to select columns for operations by tag rather than name.

  For example, you can add the `USER_ID` and `ITEM_ID` tags to columns.
  Modeling and inference operations can use that information to act accordingly on the dataset.